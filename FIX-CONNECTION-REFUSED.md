# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ ERR_CONNECTION_REFUSED

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–û—à–∏–±–∫–∞ `ERR_CONNECTION_REFUSED` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **API —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω**, –ø–æ—Ç–æ–º—É —á—Ç–æ **MongoDB –Ω–µ –∑–∞–ø—É—â–µ–Ω**.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (–ø–æ—à–∞–≥–æ–≤–æ)

### –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç

**Windows PowerShell:**
```powershell
.\start-mongodb.ps1
```

**Windows CMD:**
```cmd
start-mongodb.bat
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç Docker
- –°–æ–∑–¥–∞—Å—Ç –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –ü–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç—É—Å

### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±: –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB

–£ –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker, –Ω–æ Docker Desktop –Ω–µ –∑–∞–ø—É—â–µ–Ω.

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop** (–Ω–∞–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é –ü—É—Å–∫ –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ)

2. **–î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ Docker Desktop –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è** (–∏–∫–æ–Ω–∫–∞ –≤ —Ç—Ä–µ–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –º–∏–≥–∞—Ç—å)

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ MongoDB –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**

```bash
# –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
docker start mongodb

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -d -p 27017:27017 --name mongodb mongo:latest
```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
```bash
docker ps
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Å `mongodb` –∏ —Å—Ç–∞—Ç—É—Å–æ–º `Up`.

#### –í–∞—Ä–∏–∞–Ω—Ç B: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MongoDB –ª–æ–∫–∞–ª—å–Ω–æ

1. –°–∫–∞—á–∞–π—Ç–µ MongoDB: https://www.mongodb.com/try/download/community
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MongoDB
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å:
   ```powershell
   net start MongoDB
   ```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MongoDB

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
Test-NetConnection -ComputerName localhost -Port 27017
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `TcpTestSucceeded : True`

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä

–í **–Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ**:

```bash
cd WhiteShop
npm run dev:api
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ MongoDB port localhost:27017 is accessible
üîÑ Connecting to MongoDB...
‚úÖ MongoDB connected successfully
üöÄ API Server running on http://localhost:3001
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ API —Å–µ—Ä–≤–µ—Ä–∞ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å!

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MongoDB:
```bash
docker ps | findstr mongodb
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä:
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:3001/health`

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å `"status": "ok"`

## üìù –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ (–µ—Å–ª–∏ Docker —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```powershell
# PowerShell
.\start-mongodb.ps1

# –ò–ª–∏ CMD
start-mongodb.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB
docker start mongodb || docker run -d -p 27017:27017 --name mongodb mongo:latest

# –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd WhiteShop && npm run dev:api
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ

–í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–µ—Ä **–º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ MongoDB**, –Ω–æ API endpoints **–Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** –¥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ MongoDB –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥.

## üêõ –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

1. **MongoDB –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs mongodb`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 27017: `netstat -ano | findstr :27017`

2. **API —Å–µ—Ä–≤–µ—Ä –≤—Å–µ –µ—â–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MongoDB –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω (—Å–º. –≤—ã—à–µ)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `MONGODB_URI=mongodb://localhost:27017/shop_dev`
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ API —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏

3. **–ü–æ—Ä—Ç 27017 –∑–∞–Ω—è—Ç:**
   - –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å: `netstat -ano | findstr :27017`
   - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç MongoDB

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ MongoDB: [START-MONGODB.md](./START-MONGODB.md)
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: [QUICK-START.md](./QUICK-START.md)


