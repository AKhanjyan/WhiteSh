# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ MongoDB

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

API —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ **MongoDB –Ω–µ –∑–∞–ø—É—â–µ–Ω**.

–û—à–∏–±–∫–∞:
```
‚ùå MongoDB is not accessible at localhost:27017
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB –≤ Docker
docker run -d -p 27017:27017 --name mongodb mongo:latest

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
docker ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker logs mongodb
```

**–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker start mongodb

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker ps
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Windows Service

–ï—Å–ª–∏ MongoDB —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–∫ —Å–µ—Ä–≤–∏—Å:

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å–µ—Ä–≤–∏—Å
Get-Service MongoDB

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
net start MongoDB

# –ò–ª–∏ —á–µ—Ä–µ–∑ PowerShell
Start-Service MongoDB
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (Windows)

–ï—Å–ª–∏ MongoDB —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å:

```powershell
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
New-Item -ItemType Directory -Force -Path "C:\data\db"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB
mongod --dbpath "C:\data\db"
```

**–í–∞–∂–Ω–æ:** –û—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã–º. MongoDB –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ–∫–∞ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ.

### –í–∞—Ä–∏–∞–Ω—Ç 4: Linux/Mac

```bash
# –ß–µ—Ä–µ–∑ systemd
sudo systemctl start mongod

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
mongod --dbpath /data/db
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω

### Windows PowerShell:
```powershell
Test-NetConnection -ComputerName localhost -Port 27017
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `TcpTestSucceeded : True`

### –ò–ª–∏ —á–µ—Ä–µ–∑ netstat:
```bash
netstat -ano | findstr :27017
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Å `LISTENING`

### –ò–ª–∏ —á–µ—Ä–µ–∑ Docker:
```bash
docker ps | findstr mongodb
```

## ‚úÖ –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ MongoDB

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä** (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
   ```bash
   cd WhiteShop
   npm run dev:api
   ```

2. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   ‚úÖ MongoDB port localhost:27017 is accessible
   üîÑ Connecting to MongoDB...
   ‚úÖ MongoDB connected successfully
   üöÄ API Server running on http://localhost:3001
   ```

3. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** –≤ –±—Ä–∞—É–∑–µ—Ä–µ - –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å!

## üêõ –ï—Å–ª–∏ MongoDB –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ MongoDB:

```bash
mongod --version
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:
- **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MongoDB:** https://www.mongodb.com/try/download/community
- **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker:** https://www.docker.com/get-started

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 27017:

```bash
netstat -ano | findstr :27017
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –ª–∏–±–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ, –ª–∏–±–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç MongoDB.

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB Compass –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. –°–∫–∞—á–∞–π—Ç–µ: https://www.mongodb.com/try/download/compass
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫: `mongodb://localhost:27017`
3. –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ - MongoDB —Ä–∞–±–æ—Ç–∞–µ—Ç!

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `.env` (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞) —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URI:

```env
MONGODB_URI=mongodb://localhost:27017/shop_dev
```

–ò–ª–∏ –¥–ª—è production:
```env
MONGODB_URI=mongodb://localhost:27017/shop
```

## üí° –°–æ–≤–µ—Ç

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Docker**, —Ç–∞–∫ –∫–∞–∫:
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å MongoDB –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –õ–µ–≥–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- ‚úÖ –ù–µ –∑–∞—Å–æ—Ä—è–µ—Ç —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –≤—Å–µ—Ö –û–°



